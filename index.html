<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mapa Relacji CRM - Wizualizacja Połączeń</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <h1>Mapa Relacji CRM</h1>
                <p>Wizualizacja połączeń między firmami a opiekunami handlowymi</p>
            </div>
        </header>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Side Panel -->
            <aside class="side-panel">
                <div class="panel-section">
                    <h3>Statystyki</h3>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <span class="stat-value" id="total-companies">5</span>
                            <span class="stat-label">Firm</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value" id="total-reps">4</span>
                            <span class="stat-label">Opiekunów</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value" id="avg-companies">1.8</span>
                            <span class="stat-label">Śr. firm/opiekun</span>
                        </div>
                    </div>
                </div>

                <div class="panel-section">
                    <h3>Wyszukiwanie</h3>
                    <div class="form-group">
                        <input type="text" id="search-input" placeholder="Szukaj firm lub opiekunów..." class="form-control">
                    </div>
                    <button id="clear-search" class="btn btn--secondary btn--sm">Wyczyść</button>
                </div>

                <div class="panel-section">
                    <h3>Lista Firm</h3>
                    <div id="companies-list" class="companies-list">
                        <!-- Companies will be populated by JavaScript -->
                    </div>
                </div>

                <div class="panel-section">
                    <h3>Opiekunowie Handlowi</h3>
                    <div id="reps-list" class="reps-list">
                        <!-- Sales reps will be populated by JavaScript -->
                    </div>
                </div>
            </aside>

            <!-- Visualization Area -->
            <main class="visualization-area">
                <div class="viz-header">
                    <h2>Mapa Połączeń</h2>
                    <div class="viz-controls">
                        <button id="reset-zoom" class="btn btn--outline btn--sm">Reset widoku</button>
                        <div class="legend">
                            <div class="legend-item">
                                <div class="legend-dot company-dot"></div>
                                <span>Firmy</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-dot rep-dot"></div>
                                <span>Opiekunowie</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="network-visualization" class="network-container">
                    <svg id="network-svg"></svg>
                </div>
            </main>
        </div>

        <!-- Details Modal -->
        <div id="details-modal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="modal-title">Szczegóły</h3>
                    <button id="close-modal" class="btn btn--outline btn--sm">×</button>
                </div>
                <div id="modal-body" class="modal-body">
                    <!-- Details will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>